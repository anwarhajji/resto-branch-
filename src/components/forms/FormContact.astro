<form
  name="contact"
  method="POST"
  action="https://formspree.io/f/xrbelybn"
  class="flex flex-col gap-8 mx-auto max-w-md"
  onsubmit="handleFormSubmit(event)"
>
  <!-- Hidden fields for security -->
  <input type="hidden" name="_gotcha" value="" />
  <input type="hidden" name="_replyto" value="your-email@example.com" />

  <!-- Your existing form fields -->
  <div>
    <label for="name">Name</label>
    <div class="mt-2">
      <input type="text" name="name" id="name" required />
    </div>
  </div>
  <div>
    <label for="email">Email</label>
    <div class="mt-2 grid grid-cols-1">
      <input
        type="email"
        name="email"
        id="email"
        placeholder="you@example.com"
        required
      />
    </div>
  </div>
  <div>
    <label for="message">Message</label>
    <div class="mt-2">
      <textarea name="message" id="message" rows="4" required></textarea>
    </div>
  </div>
  <div>
    <button type="submit" class="button button-green group !px-8">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="size-5 -rotate-45 -mt-1 inline-block mr-1 group-hover:rotate-0 transition duration-300"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"
        ></path>
      </svg>
      Send
    </button>
  </div>
</form>

<script>
  // Function to handle form submission
  function handleFormSubmit(event) {
    event.preventDefault(); // Prevent the default form submission

    const form = event.target; // Get the form element
    const formData = new FormData(form); // Create a FormData object from the form

    // Send the form data to Formspree's API
    fetch("https://formspree.io/f/xrbelybn", {
      method: "POST",
      body: formData,
    })
      .then((response) => {
        if (response.ok) {
          // Redirect to the success page on successful submission
          window.location.href = "/success"; // Replace '/success' with your success page URL
        } else {
          // Handle errors (optional)
          alert("There was an error submitting the form.");
        }
      })
      .catch((error) => {
        console.error("Error:", error);
        alert("An unexpected error occurred. Please try again later.");
      });
  }
</script>
